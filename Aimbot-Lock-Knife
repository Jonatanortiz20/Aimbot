local CurrentExecution = tick()
local safe =
    setmetatable(
    {},
    {
        __index = function(_, k)
            return game:GetService(k)
        end
    }
)
local mainPart = "HumanoidRootPart"
local library =
    loadstring(
    game:HttpGet(("https://raw.githubusercontent.com/Jonatanortiz2/Johnny-Test/master/UiLib.lua"))
)()
local window = library:CreateWindow("Aimbot And Esp Modules [BETA] --By Jonatan!")
local aimbot = window:CreateFolder("Aimbot Settings")
local ssilent = window:CreateFolder("Silent Aim Settings")
local espsettings = window:CreateFolder("Esp Settings")
aimbot:Label(
    "Made by: !Jonatan aka Johnny#5029",
    Color3.fromRGB(38, 38, 38),
    Color3.fromRGB(0, 216, 111)
)
aimbot:Label("Knife Method", Color3.fromRGB(38, 38, 38), Color3.fromRGB(0, 216, 111))
local localPlayer = game:GetService("Players").LocalPlayer
local currentCamera = safe.Workspace.CurrentCamera
local Work = game:GetService("Workspace")
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local player = safe.Players.LocalPlayer
local mouse = player:GetMouse()
local LockInClosestPlayer = false
local UserInputService = game:GetService("UserInputService")
local ployer = game:GetService("Players").LocalPlayer
local Char = ployer.Character:FindFirstChild("Humanoid")
local ok = ployer.Character:WaitForChild("Humanoid")
local localPlayer = game:GetService("Players").LocalPlayer
local currentCamera = game:GetService("Workspace").CurrentCamera
local Work = game:GetService("Workspace")
local player = game:GetService("Players").LocalPlayer
local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local mouse = localPlayer:GetMouse()
local UserInputService = game:GetService("UserInputService")
local ployer = game:GetService("Players").LocalPlayer
local Char = ployer.Character:FindFirstChild("Humanoid")
local ok = ployer.Character:WaitForChild("Humanoid")
local smoothness = 0
local hitp = "Head"
local smoothness = 0
local aimbotxpos = 0
local aimbotypos = 0
local aimboton = false
local aimbotkey = "Left Mouse"
local aimbotteamcheck
local eltargetthinfxd = "ThirdPerson"
local IgnoreList = {}
local maxDistanceeee = 600
local boxes
local names
local Players = game:GetService("Players")
local Player = game:GetService("Players").LocalPlayer
local checkkFar = true
local elmouseup = "Button2Up"
local CircLeCol = Color3.fromRGB(220, 53, 53)
local elmousedown = "Button2Down"
local allespcolor = Color3.fromRGB(53,220,53)
local TeamCheck = false
local ButtonOn = false
local lp = safe.Players.LocalPlayer
local lpc = safe.Players.LocalPlayer.Character
local MAXDISTANCE = 400
local tracers = true
local CreateTextboxes = true
local names = true
local allesp = true
local targetespcolor = Color3.fromRGB(220, 53, 53)
local ESPTeamCheck = false
local ESPTeamColor = false
function zigzag(X)
    return math.acos(math.cos(X * math.pi)) / math.pi
end
counter = 0

function ESPPOS(part)
    local screen = Work.CurrentCamera:WorldToViewportPoint(part.Position)
    return Vector2.new(screen.x - (part.Size.X / 2), screen.y - (part.Size.Y / 2))
end

function ESPCreateTextbox(kid, CreateTextbox)
    local screen = currentCamera.WorldToViewportPoint(currentCamera, kid.Position)
    return Vector2.new(screen.X - CreateTextbox.Size.X / 2, screen.Y - CreateTextbox.Size.Y / 2)
end

local wolrdtoscreen = function(v)
    return currentCamera:WorldToScreenPoint(v)
end

local distFromCenter = function(x, y)
    local vps = currentCamera.ViewportSize -- Get ViewPortSize.
    local vpsx = vps.X
    local vpsy = vps.Y
    local screencenterx = vpsx / 2
    local screencentery = vpsy / 2
    local xdist = (x - screencenterx)
    local ydist = (y - screencentery)
    local Hypotenuse = math.sqrt(math.pow(xdist, 2) + math.pow(ydist, 2))
    return Hypotenuse
end

local function inlos(p, ...)
    return #currentCamera:GetPartsObscuringTarget(
        {p},
        {currentCamera, safe.Players.LocalPlayer.Character, ...}
    ) == 0
end

local FirstPerson = function()
    local plrs, v = safe.Players:GetPlayers()
    local maxdist = 75
    local dist = math.huge
    local plr = "none"
    for i, v in pairs(game:GetService("Players"):GetPlayers()) do
        if v ~= safe.Players.LocalPlayer then
            pcall(
                function()
                    if v.Character then
                        if aimbotteamcheck == true then
                            if v.TeamColor ~= safe.Players.LocalPlayer.TeamColor then
                                local hpos = wolrdtoscreen(v.Character.Head.Position)
                                local idist = distFromCenter(hpos.X, hpos.Y)
                                local mags =
                                    (v.Character.HumanoidRootPart.Position -
                                    safe.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude
                                if idist < dist then
                                    if idist < MAXDISTANCE then
                                        if checkkFar == true then
                                            if mags < maxDistanceeee then
                                                dist = idist
                                                plr = v
                                            end
                                        else
                                            dist = idist
                                            plr = v
                                        end
                                    end
                                end
                            end
                        else
                            local hpos = wolrdtoscreen(v.Character.Head.Position)
                            local idist = distFromCenter(hpos.X, hpos.Y)
                            local mags =
                                (v.Character.HumanoidRootPart.Position -
                                safe.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude
                            if idist < dist then
                                if idist < MAXDISTANCE then
                                    if checkkFar == true then
                                        if mags < maxDistanceeee then
                                            dist = idist
                                            plr = v
                                        end
                                    else
                                        dist = idist
                                        plr = v
                                    end
                                end
                            end
                        end
                    end
                end
            )
        end
    end
    return plr, dist
end

local function getClosestPlayerToCursor() [nonamecall]
    local closestPlayer = nil
    local shortestDistance = math.huge

    for i, v in pairs(game:GetService("Players"):GetPlayers()) do
        pcall(
            function()
                if aimbotteamcheck == true then
                    if
                        v.Name ~= localPlayer.Name and
                            v.TeamColor ~= game:GetService("Players").LocalPlayer.TeamColor
                     then
                        if
                            v.Character and v.Character:FindFirstChild("Humanoid") and
                                v.Character.Humanoid.Health ~= 0 and
                                v.Character:FindFirstChild("HumanoidRootPart") and
                                v.Character:FindFirstChild("Head")
                         then
                            local pos =
                                currentCamera:WorldToViewportPoint(
                                v.Character.HumanoidRootPart.Position
                            )
                            local magnitude =
                                (Vector2.new(pos.X, pos.Y) - Vector2.new(mouse.X, mouse.Y)).magnitude
                            local mags =
                                (v.Character.HumanoidRootPart.Position -
                                game.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude
                            if magnitude < shortestDistance then
                                if checkkFar == true then
                                    if mags < maxDistanceeee then
                                        shortestDistance = magnitude
                                        closestPlayer = v
                                    end
                                else
                                    if v then
                                        closestPlayer = v
                                        shortestDistance = magnitude
                                    end
                                end
                            end
                        end
                    end
                else
                    if v.Name ~= localPlayer.Name then
                        if
                            v.Character and v.Character:FindFirstChild("Humanoid") and
                                v.Character.Humanoid.Health ~= 0 and
                                v.Character:FindFirstChild("HumanoidRootPart") and
                                v.Character:FindFirstChild("Head")
                         then
                            local pos =
                                currentCamera:WorldToViewportPoint(
                                v.Character.HumanoidRootPart.Position
                            )
                            local magnitude =
                                (Vector2.new(pos.X, pos.Y) - Vector2.new(mouse.X, mouse.Y)).magnitude
                            local mags =
                                (v.Character.HumanoidRootPart.Position -
                                game.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude
                            if magnitude < shortestDistance then
                                if checkkFar == true then
                                    if mags < maxDistanceeee then
                                        shortestDistance = magnitude
                                        closestPlayer = v
                                    end
                                else
                                    if v then
                                        closestPlayer = v
                                        shortestDistance = magnitude
                                    end
                                end
                            end
                        end
                    end
                end
            end
        )
    end
    return closestPlayer or localPlayer
end

local ThirdPerson = function()
    local plrs, v = safe.Players:GetPlayers()
    local maxdist = 75
    local dist = math.huge
    local plr = "none"
    for i, v in pairs(game:GetService("Players"):GetPlayers()) do
        if v ~= safe.Players.LocalPlayer then
            pcall(
                function()
                    if v.Character then
                        if aimbotteamcheck == true then
                            if v.TeamColor ~= safe.Players.LocalPlayer.TeamColor then
                                local pos =
                                    currentCamera:WorldToViewportPoint(v.Character.Head.Position)
                                local magnitude =
                                    (Vector2.new(pos.X, pos.Y) - Vector2.new(mouse.X, mouse.Y)).magnitude
                                local mags =
                                    (v.Character.HumanoidRootPart.Position -
                                    safe.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude

                                if magnitude < dist then
                                    if magnitude < MAXDISTANCE then
                                        if checkkFar == true then
                                            if mags < maxDistanceeee then
                                                dist = magnitude
                                                plr = v
                                            end
                                        else
                                            dist = magnitude
                                            plr = v
                                        end
                                    end
                                end
                            end
                        else
                            local pos =
                                currentCamera:WorldToViewportPoint(
                                v.Character.HumanoidRootPart.Position
                            )
                            local magnitude =
                                (Vector2.new(pos.X, pos.Y) - Vector2.new(mouse.X, mouse.Y)).magnitude
                            local mags =
                                (v.Character.HumanoidRootPart.Position -
                                safe.Players.LocalPlayer.Character.HumanoidRootPart.Position).magnitude

                            if magnitude < dist then
                                if magnitude < MAXDISTANCE then
                                    if checkkFar == true then
                                        if mags < maxDistanceeee then
                                            dist = magnitude
                                            plr = v
                                        end
                                    else
                                        dist = magnitude
                                        plr = v
                                    end
                                end
                            end
                        end
                    end
                end
            )
        end
    end
    return plr, dist
end

local MyTarget = function()
    local Target = nil
    local TargetName = nil
    pcall(function()
        TargetName = Players.LocalPlayer.PlayerGui.ScreenGui.UI.Target.TargetText.Text
    end)
    if TargetName then
        if Players:FindFirstChild(TargetName) then
            Target = Players:FindFirstChild(TargetName)
        end
    end
    return Target
end

spawn(
    function()
        local Circle = Drawing.new("Circle")
        Circle.Visible = true
        Circle.Position = Vector2.new(mouse.X, mouse.Y)
        Circle.Color = Color3.fromRGB(220, 53, 53)
        Circle.Thickness = 0.1
        Circle.NumSides = 1000
        Circle.Radius = MAXDISTANCE
        Circle.Filled = false
        game.RunService.Stepped:Connect(
            function()
                if ButtonOn == true then
                    pcall(
                        function()
                            Circle.Visible = true
                            Circle.Position = Vector2.new(mouse.X, mouse.Y)
                            Circle.Radius = MAXDISTANCE
                            Circle.Color = CircLeCol
                            Circle.Color = CircLeCol
                        end
                    )
                else
                    pcall(
                        function()
                            Circle.Visible = false
                            Circle.Position = Vector2.new(mouse.X, mouse.Y)
                            Circle.Radius = MAXDISTANCE
                        end
                    )
                end
            end
        )
    end
)

aimbot:Bind(
    "Aimbot",
    Enum.KeyCode.E,
    function(brrr)
        if ButtonOn == false then
            ButtonOn = true
        else
            ButtonOn = false
        end
    end
)

local grab_plr = function()
    if eltargetthinfxd == "FirstPerson" then
        return FirstPerson()
    elseif eltargetthinfxd == "ThirdPerson" then
        return ThirdPerson()
    elseif eltargetthinfxd == "ClosestPlrMouse" then
        return getClosestPlayerToCursor()
    end
end

local RandomPlayer = function()
    return game:GetService("Players"):GetPlayers()[
        math.random(1, #game:GetService("Players"):GetPlayers())
    ]
end

local Old = RandomPlayer().Name
local Update = function()
    Old = grab_plr().Name
end

local GetYes = function()
    local gonchang
    pcall(
        function()
            if game:GetService("Players"):FindFirstChild(Old) then
                gonchang = game:GetService("Players"):FindFirstChild(Old)
            else
                gonchang = game:GetService("Players"):FindFirstChild(RandomPlayer().Name)
            end
        end
    )
    return gonchang
end

aimbot:Dropdown(
    "Aimbot Type",
    {"FirstPerson", "ThirdPerson", "ClosestPlrMouse"},
    true,
    function(okk)
        eltargetthinfxd = okk
    end
)

aimbot:Dropdown(
    "Aim At",
    {"Head", "HumanoidRootPart"},
    true,
    function(okk)
        hitp = okk
        --("Aiming At .." .. hitp)
    end
)

aimbot:Dropdown(
    "Aim Key",
    {"Left Mouse", "Right Mouse"},
    true,
    function(okk)
        aimbotkey = okk
    end
)

local aimbotwait = 0
aimbot:Slider(
    "Wait Time",
    0,
    1,
    true,
    function(value)
        aimbotwait = value
    end
)

aimbot:Slider(
    "FOV Size",
    0,
    1000,
    true,
    function(value)
        MAXDISTANCE = value
    end
)

aimbot:Slider(
    "Max Distance",
    0,
    1999,
    true,
    function(value)
        maxDistanceeee = value
    end
)

aimbot:Toggle(
    "Distance Check",
    function(bap)
        checkkFar = bap
    end
)

aimbot:Toggle(
    "Team Check",
    function(bap)
        aimbotteamcheck = bap
    end
)

aimbot:Slider(
    "X Offset",
    -200,
    200,
    true,
    function(value)
        aimbotxpos = (value - (value * 2))
    end
)

aimbot:Slider(
    "Y Offset",
    -200,
    200,
    true,
    function(value)
        aimbotypos = (value - (value * 2))
    end
)

aimbot:ColorPicker(
    "FOV Color",
    Color3.fromRGB(220, 53, 53),
    function(color)
        CircLeCol = color
    end
)

espsettings:Toggle(
    "Esp",
    function(bap)
        allesp = bap
    end
)

espsettings:Bind(
    "Esp Toggle",
    Enum.KeyCode.T,
    function(brrr)
        if allesp == true then
            allesp = false
        else
            allesp = true
        end
    end
)
espsettings:Toggle(
    "Tracers",
    function(bap)
        tracers = bap
    end
)

espsettings:Toggle(
    "Boxes",
    function(bap)
        CreateTextboxes = bap
    end
)

espsettings:Toggle(
    "Names",
    function(bap)
        names = bap
    end
)

espsettings:ColorPicker(
    "ESP Color",
    Color3.fromRGB(53, 220, 53),
    function(color)
        allespcolor = color
    end
)

espsettings:Toggle(
    "TeamCheck",
    function(Okayf)
        ESPTeamCheck = Okayf
    end
)

espsettings:Toggle(
    "TeamColor",
    function(balp)
        ESPTeamColor = balp
    end
)


function ESPText(part)
    local name = Drawing.new("Text")
    name.Text = part.Parent.Name
    name.Position = ESPPOS(part)
    name.Size = 20.00
    name.Outline = true
    name.Center = true
    name.Visible = true
    local runService = game:GetService("RunService")
    local Stepped
    local ReadyToDisc = false
    Stepped =
        runService.Stepped:Connect(
        function()
            pcall(
                function()
                    if name ~= nil then
                        if part:IsDescendantOf(Work) then
                            if allesp == true then
                                if names == true then
                                    if ESPTeamCheck == true then
                                        if game.Players:FindFirstChild(part.Parent.Name).TeamColor ~= safe.Players.LocalPlayer.TeamColor then
                                            name.Position = ESPPOS(part)
                                            local _, screen =
                                                Work.CurrentCamera:WorldToViewportPoint(part.Position)
                                            if screen then
                                                name.Visible = true
                                            else
                                                name.Visible = false
                                            end
                                            if ESPTeamColor == true then
                                                name.Color =
                                                    game.Players:FindFirstChild(part.Parent.Name).TeamColor.Color
                                            else
                                                if allespcolor then
                                                    name.Color = allespcolor
                                                end
                                            end
                                        else
                                            name.Visible = false
                                        end
                                    else
                                        name.Position = ESPPOS(part)
                                        local _, screen =
                                            Work.CurrentCamera:WorldToViewportPoint(part.Position)
                                        if screen then
                                            name.Visible = true
                                        else
                                            name.Visible = false
                                        end
                                        if ESPTeamColor == true then
                                            name.Color = game.Players:FindFirstChild(part.Parent.Name).TeamColor.Color
                                        else
                                            if allespcolor then
                                                if game.Players:FindFirstChild(part.Parent.Name).Name == MyTarget().Name then
                                                    name.Color = targetespcolor
                                                else
                                                    name.Color = allespcolor
                                                end
                                            end
                                        end
                                    end
                                else
                                    name.Visible = false
                                end
                            else
                                name.Visible = false
                            end
                        else
                            name.Visible = false
                            ReadyToDisc = true
                        end
                    else
                        name.Visible = false
                        ReadyToDisc = true
                    end
                end
            )
        end
    )
    local readytoleave = false
    spawn(
        function()
            while wait() do
                if ReadyToDisc == true then
                    pcall(
                        function()
                            if name then
                                name:Remove()
                            end
                            readytoleave = true
                            Stepped:Disconnect()
                        end
                    )
                end
                if readytoleave == true then
                    break
                end
            end
        end
    )
end

function ESPLine(part)
    local Line = Drawing.new("Line")
    Line.Visible = true
    Line.From = Vector2.new(1000, 1000)
    Line.To = ESPPOS(part)
    Line.Thickness = 2
    Line.Transparency = 1
    local runService = game:GetService("RunService")
    local Stepped
    local ReadyToDisc = false
    Stepped =
        runService.Stepped:Connect(
        function()
            pcall(
                function()
                    if Line ~= nil then
                        if part:IsDescendantOf(Work) then
                            if allesp == true then
                                if tracers == true then
                                    if ESPTeamCheck == true then
                                        if
                                            game.Players:FindFirstChild(part.Parent.Name).TeamColor ~=
                                                safe.Players.LocalPlayer.TeamColor
                                         then
                                            Line.To = ESPPOS(part)
                                            local _, screen =
                                                Work.CurrentCamera:WorldToViewportPoint(part.Position)
                                            if screen then
                                                Line.Visible = true
                                            else
                                                Line.Visible = false
                                            end
                                            if ESPTeamColor == true then
                                                Line.Color =
                                                    game.Players:FindFirstChild(part.Parent.Name).TeamColor.Color
                                            else
                                                if allespcolor then
                                                    Line.Color = allespcolor
                                                end
                                            end
                                        else
                                            Line.Visible = false
                                        end
                                    else
                                        Line.To = ESPPOS(part)
                                        local _, screen =
                                            Work.CurrentCamera:WorldToViewportPoint(part.Position)
                                        if screen then
                                            Line.Visible = true
                                        else
                                            Line.Visible = false
                                        end
                                        if ESPTeamColor == true then
                                            Line.Color =
                                                game.Players:FindFirstChild(part.Parent.Name).TeamColor.Color
                                        else
                                            if allespcolor then
                                                if game.Players:FindFirstChild(part.Parent.Name).Name == MyTarget().Name then
                                                    Line.Color = targetespcolor
                                                else
                                                    Line.Color = allespcolor
                                                end
                                            end
                                        end
                                    end
                                else
                                    Line.Visible = false
                                end
                            else
                                Line.Visible = false
                            end
                        else
                            Line.Visible = false
                            ReadyToDisc = true
                        end
                    else
                        Line.Visible = false
                        ReadyToDisc = true
                    end
                end
            )
        end
    )
    local readytoleave = false
    spawn(
        function()
            while wait() do
                if ReadyToDisc == true then
                    pcall(
                        function()
                            if Line then
                                Line:Remove()
                            end
                            readytoleave = true
                            Stepped:Disconnect()
                        end
                    )
                end
                if readytoleave == true then
                    break
                end
            end
        end
    )
end
local plr = game.Players.LocalPlayer
local camera = game.Workspace.CurrentCamera
function ESPSquare(part)
    local Top = Drawing.new("Line")
    Top.Visible = false
    Top.From = Vector2.new(0, 0)
    Top.To = Vector2.new(200, 200)
    Top.Thickness = 2
    Top.Transparency = 1

    local Bottom = Drawing.new("Line")
    Bottom.Visible = false
    Bottom.From = Vector2.new(0, 0)
    Bottom.To = Vector2.new(200, 200)
    Bottom.Thickness = 2
    Bottom.Transparency = 1

    local Left = Drawing.new("Line")
    Left.Visible = false
    Left.From = Vector2.new(0, 0)
    Left.To = Vector2.new(200, 200)
    Left.Color = Color3.fromRGB(255, 0, 0)
    Left.Thickness = 2
    Left.Transparency = 1

    local Right = Drawing.new("Line")
    Right.Visible = false
    Right.From = Vector2.new(0, 0)
    Right.To = Vector2.new(200, 200)
    Right.Thickness = 2
    Right.Transparency = 1
    local ReadyToDisc = false
    function ESP()
        local connection
        connection =
            game:GetService("RunService").RenderStepped:Connect(
            function()
                pcall(
                    function()
                        if
                            part.Character ~= nil and
                                part.Character:FindFirstChild("HumanoidRootPart") ~= nil and
                                part.Name ~= plr.Name
                         then
                            if allesp == true then
                                if CreateTextboxes == true then
                                    if ESPTeamCheck == true then
                                        if
                                            game.Players:FindFirstChild(part.Name).TeamColor ~=
                                                safe.Players.LocalPlayer.TeamColor
                                         then
                                            local ScreenPos, OnScreen =
                                                camera:WorldToViewportPoint(
                                                part.Character.HumanoidRootPart.Position
                                            )
                                            if OnScreen then
                                                local Scale = part.Character.Head.Size.Y / 2
                                                local Size = Vector3.new(2, 3, 0) * (Scale * 2)
                                                local humpos =
                                                    camera:WorldToViewportPoint(
                                                    part.Character.HumanoidRootPart.Position
                                                )
                                                local TL =
                                                    camera:WorldToViewportPoint(
                                                    (part.Character.HumanoidRootPart.CFrame *
                                                        CFrame.new(Size.X, Size.Y, 0)).p
                                                )
                                                local TR =
                                                    camera:WorldToViewportPoint(
                                                    (part.Character.HumanoidRootPart.CFrame *
                                                        CFrame.new(-Size.X, Size.Y, 0)).p
                                                )
                                                local BL =
                                                    camera:WorldToViewportPoint(
                                                    (part.Character.HumanoidRootPart.CFrame *
                                                        CFrame.new(Size.X, -Size.Y, 0)).p
                                                )
                                                local BR =
                                                    camera:WorldToViewportPoint(
                                                    (part.Character.HumanoidRootPart.CFrame *
                                                        CFrame.new(-Size.X, -Size.Y, 0)).p
                                                )

                                                Top.From = Vector2.new(TL.X, TL.Y)
                                                Top.To = Vector2.new(TR.X, TR.Y)

                                                Left.From = Vector2.new(TL.X, TL.Y)
                                                Left.To = Vector2.new(BL.X, BL.Y)

                                                Right.From = Vector2.new(TR.X, TR.Y)
                                                Right.To = Vector2.new(BR.X, BR.Y)

                                                Bottom.From = Vector2.new(BL.X, BL.Y)
                                                Bottom.To = Vector2.new(BR.X, BR.Y)
                                                Top.Visible = true
                                                Left.Visible = true
                                                Bottom.Visible = true
                                                Right.Visible = true

                                                if ESPTeamColor == true then
                                                    Top.Color = part.TeamColor.Color
                                                    Left.Color = part.TeamColor.Color
                                                    Bottom.Color = part.TeamColor.Color
                                                    Right.Color = part.TeamColor.Color
                                                else
                                                    if allespcolor then
                                                        Top.Color = allespcolor
                                                        Left.Color = allespcolor
                                                        Bottom.Color = allespcolor
                                                        Right.Color = allespcolor
                                                    end
                                                end
                                            else
                                                Top.Visible = false
                                                Left.Visible = false
                                                Bottom.Visible = false
                                                Right.Visible = false
                                            end
                                        else
                                            Top.Visible = false
                                            Left.Visible = false
                                            Bottom.Visible = false
                                            Right.Visible = false
                                        end
                                    else
                                        local ScreenPos, OnScreen =
                                            camera:WorldToViewportPoint(
                                            part.Character.HumanoidRootPart.Position
                                        )
                                        if OnScreen then
                                            local Scale = part.Character.Head.Size.Y / 2
                                            local Size = Vector3.new(2, 3, 0) * (Scale * 2)
                                            local humpos =
                                                camera:WorldToViewportPoint(
                                                part.Character.HumanoidRootPart.Position
                                            )
                                            local TL =
                                                camera:WorldToViewportPoint(
                                                (part.Character.HumanoidRootPart.CFrame *
                                                    CFrame.new(Size.X, Size.Y, 0)).p
                                            )
                                            local TR =
                                                camera:WorldToViewportPoint(
                                                (part.Character.HumanoidRootPart.CFrame *
                                                    CFrame.new(-Size.X, Size.Y, 0)).p
                                            )
                                            local BL =
                                                camera:WorldToViewportPoint(
                                                (part.Character.HumanoidRootPart.CFrame *
                                                    CFrame.new(Size.X, -Size.Y, 0)).p
                                            )
                                            local BR =
                                                camera:WorldToViewportPoint(
                                                (part.Character.HumanoidRootPart.CFrame *
                                                    CFrame.new(-Size.X, -Size.Y, 0)).p
                                            )

                                            Top.From = Vector2.new(TL.X, TL.Y)
                                            Top.To = Vector2.new(TR.X, TR.Y)

                                            Left.From = Vector2.new(TL.X, TL.Y)
                                            Left.To = Vector2.new(BL.X, BL.Y)

                                            Right.From = Vector2.new(TR.X, TR.Y)
                                            Right.To = Vector2.new(BR.X, BR.Y)

                                            Bottom.From = Vector2.new(BL.X, BL.Y)
                                            Bottom.To = Vector2.new(BR.X, BR.Y)
                                            Top.Visible = true
                                            Left.Visible = true
                                            Bottom.Visible = true
                                            Right.Visible = true

                                            if ESPTeamColor == true then
                                                Top.Color = part.TeamColor.Color
                                                Left.Color = part.TeamColor.Color
                                                Bottom.Color = part.TeamColor.Color
                                                Right.Color = part.TeamColor.Color
                                            else
                                                if allespcolor then
                                                    if part.Name == MyTarget().Name then
                                                        Top.Color = targetespcolor
                                                        Left.Color = targetespcolor
                                                        Bottom.Color = targetespcolor
                                                        Right.Color = targetespcolor
                                                    else
                                                        Top.Color = allespcolor
                                                        Left.Color = allespcolor
                                                        Bottom.Color = allespcolor
                                                        Right.Color = allespcolor
                                                    end
                                                end
                                            end
                                        else
                                            Top.Visible = false
                                            Left.Visible = false
                                            Bottom.Visible = false
                                            Right.Visible = false
                                        end
                                    end
                                else
                                    Top.Visible = false
                                    Left.Visible = false
                                    Bottom.Visible = false
                                    Right.Visible = false
                                end
                            else
                                Top.Visible = false
                                Left.Visible = false
                                Bottom.Visible = false
                                Right.Visible = false
                            end
                        else
                            Top.Visible = false
                            Left.Visible = false
                            Bottom.Visible = false
                            Right.Visible = false
                            if game.Players:FindFirstChild(part.Name) == nil then
                                Top:Remove()
                                Left:Remove()
                                Bottom:Remove()
                                Right:Remove()
                                connection:Disconnect()
                            end
                        end
                    end
                )
            end
        )
    end
    coroutine.wrap(ESP)()
end

espsettings:Button(
    "ALL",
    function()
        for i, v in pairs(game:GetService("Players"):GetPlayers()) do
            if v ~= game.Players.LocalPlayer then
                if v.Character:FindFirstChild("Head") then
                    ESPText(v.Character:FindFirstChild("Head"))
                    ESPLine(v.Character:FindFirstChild("Head"))
                    ESPSquare(v)
                end
                v.CharacterAdded:connect(
                    function(char)
                        local hrp = char:WaitForChild("Head")
                        ESPText(hrp)
                        ESPLine(hrp)
                        ESPSquare(char.Parent)
                    end
                )
            end
        end

        game:GetService("Players").PlayerAdded:Connect(
            function(plr)
                plr.CharacterAdded:connect(
                    function(chur)
                        wait(3)
                        local hrp = chur:WaitForChild("Head")
                        ESPText(hrp)
                        ESPLine(hrp)
                        ESPSquare(plr)
                    end
                )
            end
        )
    end
)

espsettings:Button(
    "Tracers",
    function()
        for i, v in pairs(game:GetService("Players"):GetPlayers()) do
            if v ~= game.Players.LocalPlayer then
                if v.Character:FindFirstChild("Head") then
                    ESPLine(v.Character:FindFirstChild("Head"))
                end
                v.CharacterAdded:connect(
                    function(char)
                        local hrp = char:WaitForChild("Head")
                        ESPLine(hrp)
                    end
                )
            end
        end

        game:GetService("Players").PlayerAdded:Connect(
            function(plr)
                plr.CharacterAdded:connect(
                    function(chur)
                        wait(3)
                        local hrp = chur:WaitForChild("Head")
                        ESPLine(hrp)
                    end
                )
            end
        )
    end
)

espsettings:Button(
    "Boxes",
    function()
        for i, v in pairs(game:GetService("Players"):GetPlayers()) do
            if v ~= game.Players.LocalPlayer then
                if v.Character:FindFirstChild("Head") then
                    ESPSquare(v)
                end
                v.CharacterAdded:connect(
                    function(char)
                        local hrp = char:WaitForChild("Head")
                        ESPSquare(char.Parent)
                    end
                )
            end
        end

        game:GetService("Players").PlayerAdded:Connect(
            function(plr)
                plr.CharacterAdded:connect(
                    function(chur)
                        wait(3)
                        local hrp = chur:WaitForChild("Head")
                        ESPSquare(plr)
                    end
                )
            end
        )
    end
)

espsettings:Button(
    "Names",
    function()
        for i, v in pairs(game:GetService("Players"):GetPlayers()) do
            if v ~= game.Players.LocalPlayer then
                if v.Character:FindFirstChild("Head") then
                    ESPText(v.Character:FindFirstChild("Head"))
                end
                v.CharacterAdded:connect(
                    function(char)
                        local hrp = char:WaitForChild("Head")
                        ESPText(hrp)
                    end
                )
            end
        end

        game:GetService("Players").PlayerAdded:Connect(
            function(plr)
                plr.CharacterAdded:connect(
                    function(chur)
                        wait(3)
                        local hrp = chur:WaitForChild("Head")
                        ESPText(hrp)
                    end
                )
            end
        )
    end
)

UserInputService.InputBegan:Connect(
    function(Input)
        if Input.UserInputType == Enum.UserInputType.MouseButton2 then
            if aimbotkey == "Right Mouse" then
                Update()
                aimboton = true
            end
        end
    end
)

UserInputService.InputEnded:Connect(
    function(Input)
        if Input.UserInputType == Enum.UserInputType.MouseButton2 then
            if aimbotkey == "Right Mouse" then
                aimboton = false
            end
        end
    end
)

UserInputService.InputBegan:Connect(
    function(Input)
        if Input.UserInputType == Enum.UserInputType.MouseButton1 then
            if aimbotkey == "Left Mouse" then
                Update()
                aimboton = true
            end
        end
    end
)

UserInputService.InputEnded:Connect(
    function(Input)
        if Input.UserInputType == Enum.UserInputType.MouseButton1 then
            if aimbotkey == "Left Mouse" then
                aimboton = false
            end
        end
    end
)

spawn(
    function()
        while wait(aimbotwait) do
            if aimbotwait ~= 0 then
                if ButtonOn == true and hitp and GetYes() then
                    if aimboton == true then
                        pcall(
                            function()
                                local a = Work.CurrentCamera
                                function wrld(b)
                                    return a:WorldToScreenPoint(b)
                                end
                                local aimAt1
                                local g, onscreen =
                                    wrld(GetYes().Character:FindFirstChild(hitp).Position)
                                local Head = GetYes().Character:FindFirstChild(hitp)
                                local Velocityx = Head.Velocity.X
                                local Velocityy = Head.Velocity.Y
                                local Velocityz = Head.Velocity.Z
                                local aimsss
                                if localPlayer:DistanceFromCharacter(Head.Position) <= 20 then
                                    aimsss =
                                        Head.Position +
                                        Vector3.new(
                                            (Velocityx >= 1 and 1) or (Velocityx <= -1 and -1) or 0,
                                            (Velocityy >= 1 and 1) or (Velocityy <= -1 and -1) or 0,
                                            (Velocityz >= 1 and 1) or (Velocityz <= -1 and -1) or 0
                                        )
                                elseif localPlayer:DistanceFromCharacter(Head.Position) >= 20 then
                                    aimsss =
                                        Head.Position +
                                        Vector3.new(
                                            (Velocityx >= 2.5 and 2.5) or (Velocityx <= -2.5 and -2.5) or
                                                0,
                                            (Velocityy >= 2.5 and 2.5) or (Velocityy <= -2.5 and -2.5) or
                                                0,
                                            (Velocityz >= 2.5 and 2.5) or (Velocityz <= -2.5 and -2.5) or
                                                0
                                        )
                                elseif localPlayer:DistanceFromCharacter(Head.Position) <= 40 then
                                    aimsss =
                                        Head.Position +
                                        Vector3.new(
                                            (Velocityx >= 3 and 3) or (Velocityx <= -3 and -3) or 3,
                                            (Velocityy >= 3 and 3) or (Velocityy <= -3 and -3) or 3,
                                            (Velocityz >= 3 and 3) or (Velocityz <= -3 and -3) or 3
                                        )
                                elseif localPlayer:DistanceFromCharacter(Head.Position) >= 40 then
                                    aimsss =
                                        Head.Position +
                                        Vector3.new(
                                            (Velocityx >= 3.5 and 3.5) or (Velocityx <= -3.5 and -3.5) or
                                                3.5,
                                            (Velocityy >= 3.5 and 3.5) or (Velocityy <= -3.5 and -3.5) or
                                                3.5,
                                            (Velocityz >= 3.5 and 3.5) or (Velocityz <= -3.5 and -3.5) or
                                                3.5
                                        )
                                elseif localPlayer:DistanceFromCharacter(Head.Position) <= 60 then
                                    aimsss =
                                        Head.Position +
                                        Vector3.new(
                                            (Velocityx >= 4 and 4) or (Velocityx <= -4 and -4) or 4,
                                            (Velocityy >= 4 and 4) or (Velocityy <= -4 and -4) or 4,
                                            (Velocityz >= 4 and 4) or (Velocityz <= -4 and -4) or 4
                                        )
                                elseif localPlayer:DistanceFromCharacter(Head.Position) >= 60 then
                                    aimsss =
                                        Head.Position +
                                        Vector3.new(
                                            (Velocityx >= 4.5 and 4.5) or (Velocityx <= -4.5 and -4.5) or
                                                4.5,
                                            (Velocityy >= 4.5 and 4.5) or (Velocityy <= -4.5 and -4.5) or
                                                4.5,
                                            (Velocityz >= 4.5 and 4.5) or (Velocityz <= -4.5 and -4.5) or
                                                4.5
                                        )
                                elseif localPlayer:DistanceFromCharacter(Head.Position) <= 80 then
                                    aimsss =
                                        Head.Position +
                                        Vector3.new(
                                            (Velocityx >= 5 and 5) or (Velocityx <= -5 and -5) or 5,
                                            (Velocityy >= 5 and 5) or (Velocityy <= -5 and -5) or 5,
                                            (Velocityz >= 5 and 5) or (Velocityz <= -5 and -5) or 5
                                        )
                                elseif localPlayer:DistanceFromCharacter(Head.Position) >= 80 then
                                    aimsss =
                                        Head.Position +
                                        Vector3.new(
                                            (Velocityx >= 5.5 and 5.5) or (Velocityx <= -5.5 and -5.5) or
                                                5.5,
                                            (Velocityy >= 5.5 and 5.5) or (Velocityy <= -5.5 and -5.5) or
                                                5.5,
                                            (Velocityz >= 5.5 and 5.5) or (Velocityz <= -5.5 and -5.5) or
                                                5.5
                                        )
                                end
                                return mousemoverel(
                                    wrld(aimsss).X - wrld(mouse.Hit.p).X + aimbotxpos,
                                    wrld(aimsss).Y - wrld(mouse.Hit.p).Y + aimbotypos
                                )
                            end
                        )
                    end
                end
            end
        end
    end
)

spawn(
    function()
        game:GetService("RunService").Heartbeat:Connect(
            function()
                if aimbotwait < 0.01 or aimbotwait == 0 then
                    if ButtonOn == true and hitp and GetYes() then
                    if aimboton == true then
                        pcall(
                            function()
                                local a = Work.CurrentCamera
                                function wrld(b)
                                    return a:WorldToScreenPoint(b)
                                end
                                local aimAt1
                                local g, onscreen =
                                    wrld(GetYes().Character:FindFirstChild(hitp).Position)
                                local Head = GetYes().Character:FindFirstChild(hitp)
                                local Velocityx = Head.Velocity.X
                                local Velocityy = Head.Velocity.Y
                                local Velocityz = Head.Velocity.Z
                                local aimsss
                                if localPlayer:DistanceFromCharacter(Head.Position) <= 20 then
                                    aimsss =
                                        Head.Position +
                                        Vector3.new(
                                            (Velocityx >= 1 and 1) or (Velocityx <= -1 and -1) or 0,
                                            (Velocityy >= 1 and 1) or (Velocityy <= -1 and -1) or 0,
                                            (Velocityz >= 1 and 1) or (Velocityz <= -1 and -1) or 0
                                        )
                                elseif localPlayer:DistanceFromCharacter(Head.Position) >= 20 then
                                    aimsss =
                                        Head.Position +
                                        Vector3.new(
                                            (Velocityx >= 2.5 and 2.5) or (Velocityx <= -2.5 and -2.5) or
                                                0,
                                            (Velocityy >= 2.5 and 2.5) or (Velocityy <= -2.5 and -2.5) or
                                                0,
                                            (Velocityz >= 2.5 and 2.5) or (Velocityz <= -2.5 and -2.5) or
                                                0
                                        )
                                elseif localPlayer:DistanceFromCharacter(Head.Position) <= 40 then
                                    aimsss =
                                        Head.Position +
                                        Vector3.new(
                                            (Velocityx >= 3 and 3) or (Velocityx <= -3 and -3) or 3,
                                            (Velocityy >= 3 and 3) or (Velocityy <= -3 and -3) or 3,
                                            (Velocityz >= 3 and 3) or (Velocityz <= -3 and -3) or 3
                                        )
                                elseif localPlayer:DistanceFromCharacter(Head.Position) >= 40 then
                                    aimsss =
                                        Head.Position +
                                        Vector3.new(
                                            (Velocityx >= 3.5 and 3.5) or (Velocityx <= -3.5 and -3.5) or
                                                3.5,
                                            (Velocityy >= 3.5 and 3.5) or (Velocityy <= -3.5 and -3.5) or
                                                3.5,
                                            (Velocityz >= 3.5 and 3.5) or (Velocityz <= -3.5 and -3.5) or
                                                3.5
                                        )
                                elseif localPlayer:DistanceFromCharacter(Head.Position) <= 60 then
                                    aimsss =
                                        Head.Position +
                                        Vector3.new(
                                            (Velocityx >= 4 and 4) or (Velocityx <= -4 and -4) or 4,
                                            (Velocityy >= 4 and 4) or (Velocityy <= -4 and -4) or 4,
                                            (Velocityz >= 4 and 4) or (Velocityz <= -4 and -4) or 4
                                        )
                                elseif localPlayer:DistanceFromCharacter(Head.Position) >= 60 then
                                    aimsss =
                                        Head.Position +
                                        Vector3.new(
                                            (Velocityx >= 4.5 and 4.5) or (Velocityx <= -4.5 and -4.5) or
                                                4.5,
                                            (Velocityy >= 4.5 and 4.5) or (Velocityy <= -4.5 and -4.5) or
                                                4.5,
                                            (Velocityz >= 4.5 and 4.5) or (Velocityz <= -4.5 and -4.5) or
                                                4.5
                                        )
                                elseif localPlayer:DistanceFromCharacter(Head.Position) <= 80 then
                                    aimsss =
                                        Head.Position +
                                        Vector3.new(
                                            (Velocityx >= 5 and 5) or (Velocityx <= -5 and -5) or 5,
                                            (Velocityy >= 5 and 5) or (Velocityy <= -5 and -5) or 5,
                                            (Velocityz >= 5 and 5) or (Velocityz <= -5 and -5) or 5
                                        )
                                elseif localPlayer:DistanceFromCharacter(Head.Position) >= 80 then
                                    aimsss =
                                        Head.Position +
                                        Vector3.new(
                                            (Velocityx >= 5.5 and 5.5) or (Velocityx <= -5.5 and -5.5) or
                                                5.5,
                                            (Velocityy >= 5.5 and 5.5) or (Velocityy <= -5.5 and -5.5) or
                                                5.5,
                                            (Velocityz >= 5.5 and 5.5) or (Velocityz <= -5.5 and -5.5) or
                                                5.5
                                        )
                                end
                                return mousemoverel(
                                    wrld(aimsss).X - wrld(mouse.Hit.p).X + aimbotxpos,
                                    wrld(aimsss).Y - wrld(mouse.Hit.p).Y + aimbotypos
                                )
                            end
                        )
                    end
                end
                end
            end
        )
    end
)
spawn(
    function()
        repeat
            wait()
        until allesp
        local plrs, v = safe.Players:GetPlayers()
        for i, v in pairs(game:GetService("Players"):GetPlayers()) do
            if v ~= safe.Players.LocalPlayer then
                pcall(
                    function()
                        if v.Character.Head then
                            ESPText(v.Character.Head)
                            ESPLine(v.Character.Head)
                            ESPSquare(v)
                        else
                            local hrp = v.Character:WaitForChild("Head")
                            ESPText(hrp)
                            ESPLine(hrp)
                            ESPSquare(v)
                        end
                        v.CharacterAdded:connect(
                            function(char)
                                local hrp = char:WaitForChild("Head")
                                ESPText(hrp)
                                ESPLine(hrp)
                                ESPSquare(char.Parent)
                            end
                        )
                    end
                )
            end
        end

        game:GetService("Players").PlayerAdded:Connect(
            function(plr)
                plr.CharacterAdded:connect(
                    function(chur)
                        wait(3)
                        local hrp = chur:WaitForChild("Head")
                        ESPText(hrp)
                        ESPLine(hrp)
                        ESPSquare(plr)
                    end
                )
            end
        )
    end
)

ssilent:Bind(
    "Silent Aim",
    Enum.KeyCode.R,
    function(brrr)
        spawn(function()
            pcall(function()
                mouse1press()
                wait(.34)
                if localPlayer:DistanceFromCharacter(getClosestPlayerToCursor().Character:FindFirstChild(hitp).Position) <= 20 then
                    game:GetService("ReplicatedStorage").Remotes.ThrowKnife:FireServer(
                        (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Position +
                        Vector3.new(
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.X >= 1 and 1) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.X <= -1 and -1) or 0,
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Y >= 1 and 1) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Y <= -1 and -1) or 0,
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Z >= 1 and 1) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Z <= -1 and -1) or 0
                        )),0,CFrame.new(Vector3.new(0, 0, 0), Vector3.new(-0, -0, -1)))
                elseif localPlayer:DistanceFromCharacter(getClosestPlayerToCursor().Character:FindFirstChild(hitp).Position) >= 20 then
                    game:GetService("ReplicatedStorage").Remotes.ThrowKnife:FireServer(
                        (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Position +
                        Vector3.new(
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.X >= 2.5 and 2.5) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.X <= -2.5 and -2.5) or
                                0,
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Y >= 2.5 and 2.5) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Y <= -2.5 and -2.5) or
                                0,
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Z >= 2.5 and 2.5) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Z <= -2.5 and -2.5) or
                                0
                        )),0,CFrame.new(Vector3.new(0, 0, 0), Vector3.new(-0, -0, -1)))
                elseif localPlayer:DistanceFromCharacter(getClosestPlayerToCursor().Character:FindFirstChild(hitp).Position) <= 40 then
                    game:GetService("ReplicatedStorage").Remotes.ThrowKnife:FireServer(
                        (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Position +
                        Vector3.new(
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.X >= 3 and 3) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.X <= -3 and -3) or 3,
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Y >= 3 and 3) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Y <= -3 and -3) or 3,
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Z >= 3 and 3) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Z <= -3 and -3) or 3
                        )),0,CFrame.new(Vector3.new(0, 0, 0), Vector3.new(-0, -0, -1)))
                elseif localPlayer:DistanceFromCharacter(getClosestPlayerToCursor().Character:FindFirstChild(hitp).Position) >= 40 then
                    game:GetService("ReplicatedStorage").Remotes.ThrowKnife:FireServer(
                        (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Position +
                        Vector3.new(
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.X >= 3.5 and 3.5) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.X <= -3.5 and -3.5) or
                                3.5,
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Y >= 3.5 and 3.5) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Y <= -3.5 and -3.5) or
                                3.5,
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Z >= 3.5 and 3.5) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Z <= -3.5 and -3.5) or
                                3.5
                        )),0,CFrame.new(Vector3.new(0, 0, 0), Vector3.new(-0, -0, -1)))
                elseif localPlayer:DistanceFromCharacter(getClosestPlayerToCursor().Character:FindFirstChild(hitp).Position) <= 60 then
                    game:GetService("ReplicatedStorage").Remotes.ThrowKnife:FireServer(
                        (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Position +
                        Vector3.new(
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.X >= 4 and 4) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.X <= -4 and -4) or 4,
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Y >= 4 and 4) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Y <= -4 and -4) or 4,
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Z >= 4 and 4) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Z <= -4 and -4) or 4
                        )),0,CFrame.new(Vector3.new(0, 0, 0), Vector3.new(-0, -0, -1)))
                elseif localPlayer:DistanceFromCharacter(getClosestPlayerToCursor().Character:FindFirstChild(hitp).Position) >= 60 then
                    game:GetService("ReplicatedStorage").Remotes.ThrowKnife:FireServer(
                        (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Position +
                        Vector3.new(
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.X >= 4.5 and 4.5) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.X <= -4.5 and -4.5) or
                                4.5,
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Y >= 4.5 and 4.5) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Y <= -4.5 and -4.5) or
                                4.5,
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Z >= 4.5 and 4.5) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Z <= -4.5 and -4.5) or
                                4.5
                        )),0,CFrame.new(Vector3.new(0, 0, 0), Vector3.new(-0, -0, -1)))
                elseif localPlayer:DistanceFromCharacter(getClosestPlayerToCursor().Character:FindFirstChild(hitp).Position) <= 80 then
                    game:GetService("ReplicatedStorage").Remotes.ThrowKnife:FireServer(
                        (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Position +
                        Vector3.new(
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.X >= 5 and 5) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.X <= -5 and -5) or 5,
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Y >= 5 and 5) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Y <= -5 and -5) or 5,
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Z >= 5 and 5) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Z <= -5 and -5) or 5
                        )),0,CFrame.new(Vector3.new(0, 0, 0), Vector3.new(-0, -0, -1)))
                elseif localPlayer:DistanceFromCharacter(getClosestPlayerToCursor().Character:FindFirstChild(hitp).Position) >= 80 then
                    game:GetService("ReplicatedStorage").Remotes.ThrowKnife:FireServer(
                        (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Position +
                        Vector3.new(
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.X >= 5.5 and 5.5) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.X <= -5.5 and -5.5) or
                                5.5,
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Y >= 5.5 and 5.5) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Y <= -5.5 and -5.5) or
                                5.5,
                            (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Z >= 5.5 and 5.5) or (getClosestPlayerToCursor().Character:FindFirstChild(hitp).Velocity.Z <= -5.5 and -5.5) or
                                5.5
                        )),0,CFrame.new(Vector3.new(0, 0, 0), Vector3.new(-0, -0, -1)))
                end
                mouse1release()
            end)
        end)
    end
)
